<view class="page-wrapper {{!letterOrWord ? 'page-wrapper-challenge' : ''}}">
<view wx:if="{{letterOrWord}}" class="screen" style="background: {{bingo==true?'linear-gradient(135deg, #11998e 0%, #38ef7d 100%)':''}}">
  <view class="singleLetter" wx:key="index" wx:for="{{exam}}" style="color:{{item.value==true?'white':checkLetter[index]==null?'white':'white'}};background:{{item.value==true? 'linear-gradient(135deg, #11998e 0%, #38ef7d 100%)': checkLetter[index]==null? 'rgba(255, 255, 255, 0.2)' : 'linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)'}} ">
    {{item.name}}
  </view>
</view>
<view wx:else class="screenChalenge">
  <view class="challengeContainer">
    <view class="singleWord" wx:key="index" wx:for="{{wordList}}" wx:if="{{index==0}}" style="color:{{item.value==true?'white':'white'}};background:{{item.value==true? 'linear-gradient(135deg, #2d3748 0%, #1a202c 100%)':''}} ">
      <view class="word">{{item.word}}</view>
      <view wx:if="{{tips}}" class="pinyin">{{item.pinyin}}</view>
      <view wx:else class="testPinyin">
        <view class="singleTestLetter {{item.flag ? 'singleTestLetter-correct' : ''}}" wx:for="{{singlePinyin}}" wx:key="index">
          {{item.name}}
        </view>
      </view>
    </view>
  </view>
</view>
<!-- 成功提示动画 - 移到最外层，确保不被遮挡 -->
<view class="successAnimation" wx:if="{{showSuccessAnimation}}">
  <view class="successIcon">✓</view>
  <view class="successText">太棒了！</view>
  <view class="successSubText">继续加油~</view>
</view>
<view class="midControll {{!letterOrWord ? 'midControll-challenge' : ''}}">
  <!-- 九键/全键切换按钮 - 始终显示 -->
  <view class="changebtn" bindtap="changekbor">
    <p wx:if='{{showOrNot}}'>九键</p>
    <p wx:else>全键</p>
  </view>
  <!-- 提示按钮 - 始终显示 -->
  <view class="changebtn" bindtap="displayStart">
    <p>提示</p>
  </view>
  <!-- 挑战/返回按钮 - 在同一位置，根据模式切换 -->
  <view class="changebtn" bindtap="changeScreen">
    <!-- 识键盘模式下的挑战按钮 -->
    <p wx:if="{{letterOrWord}}">挑战</p>
    <!-- 挑战模式下的返回按钮 -->
    <p wx:else>返回</p>
  </view>
</view>
<view class="keyboard2" wx:if='{{showOrNot}}'>
  <view class="firstline">
    <view class="twentysixbtn {{highlightKeyId===item ? 'key-highlight' : ''}}" wx:for="{{qwe}}" wx:key="index" bindtap="{{letterOrWord==true? 'boardbtn':'challengeBoard'}}" id="{{item}}">
      {{item}}
    </view>
  </view>
  <view class="firstline">
    <view class="twentysixbtn {{highlightKeyId===item ? 'key-highlight' : ''}}" wx:for="{{asd}}" wx:key="index" bindtap="{{letterOrWord==true? 'boardbtn':'challengeBoard'}}" id="{{item}}">
      {{item}}
    </view>
  </view>
  <view class="firstline">
    <view class="cap" bindtap="test">
      <image src="/utils/images/shengmu/cap.png"></image>
    </view>
    <view class="twentysixbtn {{highlightKeyId===item ? 'key-highlight' : ''}}" wx:for="{{zxc}}" wx:key="index" bindtap="{{letterOrWord==true? 'boardbtn':'challengeBoard'}}" id="{{item}}">
      {{item}}
    </view>
    <view class="cap" bindtap="test">
      <image src="/utils/images/shengmu/delete.png"></image>
    </view>
  </view>
  <view class="lastline">
    <view class="check" bindtap="test">123</view>
    <view class="check" bindtap="test">^-^</view>
    <view class="boardbtn2" bindtap="{{letterOrWord==true?  'blankbtn':'challengeBlank'}}">
      空 格
    </view>
    <view class="check2" bindtap="test">确 认</view>
  </view>
</view>
<view class="keyboard" wx:else>
  <view wx:key="index" wx:for="{{list}}" class="boardbtn {{highlightKeyId==item ? 'key-highlight' : ''}}" bindtap="{{letterOrWord==true? 'boardbtn':'challengeBoard'}}" id="{{item}}">
    {{item}}
  </view>
  <view class="boardbtn" bindtap="{{letterOrWord==true?  'blankbtn':'challengeBlank'}}" style="width:500rpx">
    空格
  </view>
</view>
</view>